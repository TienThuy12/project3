<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tour</title>
    <link rel="stylesheet" href="./css/pannellum.css" />
    <link rel="stylesheet" href="./css/mystyle.css" />
    <script src="./js/all.js"></script>
    <script type="text/javascript" src="./js/libpannellum.js"></script>
    <script type="text/javascript" src="./js/pannellum.js"></script>
    <script type="text/javascript" src="./js/FileSaver.js"></script>
    <script src="./data_demo.json"></script>
  </head>
  <body>
    <div id="panorama"></div>
    <div id="controls">
      <div class="subtitles" id="subtitles">Subtitle Default</div>
      <div class="ctrl" id="pan-up">&#9650;</div>
      <div class="ctrl" id="pan-down">&#9660;</div>
      <div class="ctrl" id="pan-left">&#9664;</div>
      <div class="ctrl" id="pan-right">&#9654;</div>
      <div class="ctrl" id="zoom-in">&plus;</div>
      <div class="ctrl" id="zoom-out">&minus;</div>
      <div class="ctrl" id="fullscreen">&#x2922;</div>
      <div onclick="" class="ctrl Map" id="Map">
        <i class="fa-solid fa-map"></i>
      </div>
      <div class="ctrl Audio" id="Audio">ðŸ”ˆ</div>
      <div>
        <input type="range" class="seekBar" value="0" step="1" />
        <span class="count_time">1.0/2.0</span>
      </div>
      <audio class="myAudio" preload="auto">
        <source src="" type="audio/mpeg" />
      </audio>
      <audio class="mainaudio" preload="auto">
        <source src="./audio/demo.mp3" type="audio/mpeg" />
      </audio>
    </div>
    <div id="myModal" class="modal">
      <div class="modal-content">
        <img
          class="modal-image"
          src=""
          alt="Italian Trulli"
        />
        <span class="close">&times;</span>
      </div>
    </div>


    <script>
      document.getElementsByClassName('seekBar')[0].style.display='none'
      fetch("./data.json")
        .then((response) => response.json())
        .then((data) => {
          viewer = pannellum.viewer("panorama", data);
        })
        .catch((error) => {
          console.error("Lá»—i:", error);
        });

      document.getElementById("pan-up").addEventListener("click", function (e) {
        viewer.setPitch(viewer.getPitch() + 10);
      });
      document
        .getElementById("pan-down")
        .addEventListener("click", function (e) {
          viewer.setPitch(viewer.getPitch() - 10);
        });
      document
        .getElementById("pan-left")
        .addEventListener("click", function (e) {
          viewer.setYaw(viewer.getYaw() - 10);
        });
      document
        .getElementById("pan-right")
        .addEventListener("click", function (e) {
          viewer.setYaw(viewer.getYaw() + 10);
        });
      document
        .getElementById("zoom-in")
        .addEventListener("click", function (e) {
          viewer.setHfov(viewer.getHfov() - 10);
        });
      document
        .getElementById("zoom-out")
        .addEventListener("click", function (e) {
          viewer.setHfov(viewer.getHfov() + 10);
        });
      document
        .getElementById("fullscreen")
        .addEventListener("click", function (e) {
          viewer.toggleFullscreen();
        });
    </script>
  </body>
</html>
